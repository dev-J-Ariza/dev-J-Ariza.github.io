<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Python实践 on J-Ariza的点滴</title><link>http://dev-J-Ariza.github.io/tags/python%E5%AE%9E%E8%B7%B5/</link><description>Recent content in Python实践 on J-Ariza的点滴</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 11 Jul 2021 00:00:00 +0000</lastBuildDate><atom:link href="http://dev-J-Ariza.github.io/tags/python%E5%AE%9E%E8%B7%B5/index.xml" rel="self" type="application/rss+xml"/><item><title>python实现北京公交实时查询</title><link>http://dev-J-Ariza.github.io/p/python%E5%AE%9E%E7%8E%B0%E5%8C%97%E4%BA%AC%E5%85%AC%E4%BA%A4%E5%AE%9E%E6%97%B6%E6%9F%A5%E8%AF%A2/</link><pubDate>Sun, 11 Jul 2021 00:00:00 +0000</pubDate><guid>http://dev-J-Ariza.github.io/p/python%E5%AE%9E%E7%8E%B0%E5%8C%97%E4%BA%AC%E5%85%AC%E4%BA%A4%E5%AE%9E%E6%97%B6%E6%9F%A5%E8%AF%A2/</guid><description>起源 我最近在学习python，学的过程中打算完成个小的项目。于是在网络搜索关键词“python入门项目”，在所有的结果中出现了【查询实时公交路线】这个api，个人 感觉既简单又有些意思。 （谁知这个api最后早就过期了。。这也是开发过程中一个稍显麻烦的地方。）
本文通过一下3个部分介绍实现过程，
搜索（捡现成的） 工程结构以及具体实现 上传到pypi 搜索 作为python菜鸟，还是像观摩一下前辈们的用法以及产出效果。 开发过程中我主要参考的是 Python实现命令行监控北京实时公交之一。 此文涉及到网络请求，结果缓存（这个我没想到，而且作者实现的方式也很简洁），结果输出（对命令行的排版），可以看到内容还是很丰富的。
前面说到之前网上搜索的api不能用了，于是就开始了各种尝试，先去了各大免费api平台看有无现成的，结果自然是没有。要么就是一个小网站还要注册，还不保险。 最后是在github上面检索到的，输入关键字 ‘beijing bus’， 并且按照 时间倒叙查找， 终于找到了某位大佬的小作业，里面还有请求实时公交的过程， 我试了一下，疗效不错。 链接在此， Zoutianjian/Beijing_Bus_realtime_query
工程结构以及具体实现 项目结构 为了开发的规范性，写代码之前要设计好项目结构。对python项目来说，这个也是有规范可以依据的。 python 软件目录结构规范. 简单来说，最外层目录是项目根目录用项目命名，在它下面建立一个同名文件夹，真正的开发代码放在这里面。
同级建立tests目录，存放单元测试代码。
同级建立 requirements.txt 里面写入所有你用到的第三方包，这样当别人clone你的项目运行时，只需要 pip install -r requirements.txt 就可以 安装所有需要的包了。
如果打算上传到pypi，则需要setup.py
如果用到流水线，则在项目根目录根据各种CI的要求放置配置文件，我这里用的是 .travis.yml. (这个后面也许会单独写个文章简述流水线配置，真的太烦了， 我项目一半以上的提交用来配置流水线了。。)
Foo(根目录，git目录)/ | |-- foo(项目源码)/ | | | |-- __init__.py | |-- main.py |-- tests(单元测试代码)/ | | | |-- __init__.py | |-- test**.py | |-- docs/ | |-- conf.</description></item></channel></rss>